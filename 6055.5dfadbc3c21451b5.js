"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6055],{7464:(ne,$,g)=>{g.d($,{EA:()=>f,E_:()=>B,F3:()=>G,I9:()=>L});var d=g(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var C=function(t){return t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE",t}(C||{});class L extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const K=t=>{var e,n,r,s,a;const p=t.CapacitorCustomPlatform||null,u=t.Capacitor||{},E=u.Plugins=u.Plugins||{},h=t.CapacitorPlatforms,I=(null===(e=null==h?void 0:h.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==p?p.name:(t=>{var e,n;return null!=t&&t.androidBridge?"android":null!==(n=null===(e=null==t?void 0:t.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==n&&n.bridge?"ios":"web"})(t)),ue=(null===(n=null==h?void 0:h.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||(()=>"web"!==I()),fe=(null===(r=null==h?void 0:h.currentPlatform)||void 0===r?void 0:r.isPluginAvailable)||(v=>{const b=Z.get(v);return!!(null!=b&&b.platforms.has(I())||se(v))}),se=(null===(s=null==h?void 0:h.currentPlatform)||void 0===s?void 0:s.getPluginHeader)||(v=>{var b;return null===(b=u.PluginHeaders)||void 0===b?void 0:b.find(M=>M.name===v)}),Z=new Map,ve=(null===(a=null==h?void 0:h.currentPlatform)||void 0===a?void 0:a.registerPlugin)||((v,b={})=>{const M=Z.get(v);if(M)return console.warn(`Capacitor plugin "${v}" already registered. Cannot register plugins twice.`),M.proxy;const F=I(),W=se(v);let U;const be=function(){var P=(0,d.A)(function*(){return!U&&F in b?U=U="function"==typeof b[F]?yield b[F]():b[F]:null!==p&&!U&&"web"in b&&(U=U="function"==typeof b.web?yield b.web():b.web),U});return function(){return P.apply(this,arguments)}}(),ee=P=>{let A;const _=(...x)=>{const O=be().then(T=>{const k=((P,A)=>{var _,x;if(!W){if(P)return null===(x=P[A])||void 0===x?void 0:x.bind(P);throw new L(`"${v}" plugin is not implemented on ${F}`,C.Unimplemented)}{const O=null==W?void 0:W.methods.find(T=>A===T.name);if(O)return"promise"===O.rtype?T=>u.nativePromise(v,A.toString(),T):(T,k)=>u.nativeCallback(v,A.toString(),T,k);if(P)return null===(_=P[A])||void 0===_?void 0:_.bind(P)}})(T,P);if(k){const Y=k(...x);return A=null==Y?void 0:Y.remove,Y}throw new L(`"${v}.${P}()" is not implemented on ${F}`,C.Unimplemented)});return"addListener"===P&&(O.remove=(0,d.A)(function*(){return A()})),O};return _.toString=()=>`${P.toString()}() { [capacitor code] }`,Object.defineProperty(_,"name",{value:P,writable:!1,configurable:!1}),_},le=ee("addListener"),ce=ee("removeListener"),ye=(P,A)=>{const _=le({eventName:P},A),x=function(){var T=(0,d.A)(function*(){const k=yield _;ce({eventName:P,callbackId:k},A)});return function(){return T.apply(this,arguments)}}(),O=new Promise(T=>_.then(()=>T({remove:x})));return O.remove=(0,d.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield x()}),O},te=new Proxy({},{get(P,A){switch(A){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return W?ye:le;case"removeListener":return ce;default:return ee(A)}}});return E[v]=te,Z.set(v,{name:v,proxy:te,platforms:new Set([...Object.keys(b),...W?[F]:[]])}),te});return u.convertFileSrc||(u.convertFileSrc=v=>v),u.getPlatform=I,u.handleError=v=>t.console.error(v),u.isNativePlatform=ue,u.isPluginAvailable=fe,u.pluginMethodNoop=(v,b,M)=>Promise.reject(`${M} does not have an implementation of "${b}".`),u.registerPlugin=ve,u.Exception=L,u.DEBUG=!!u.DEBUG,u.isLoggingEnabled=!!u.isLoggingEnabled,u.platform=u.getPlatform(),u.isNative=u.isNativePlatform(),u},j=(t=>t.Capacitor=K(t))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),G=j.registerPlugin;class B{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){var r=this;let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(n);const p=this.windowListeners[e];p&&!p.registered&&this.addWindowListener(p),s&&this.sendRetainedArgumentsForEvent(e);const u=function(){var h=(0,d.A)(function*(){return r.removeListener(e,n)});return function(){return h.apply(this,arguments)}}();return Promise.resolve({remove:u})}removeAllListeners(){var e=this;return(0,d.A)(function*(){e.listeners={};for(const n in e.windowListeners)e.removeWindowListener(e.windowListeners[n]);e.windowListeners={}})()}notifyListeners(e,n,r){const s=this.listeners[e];if(s)s.forEach(a=>a(n));else if(r){let a=this.retainedEventArguments[e];a||(a=[]),a.push(n),this.retainedEventArguments[e]=a}}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new j.Exception(e,C.Unimplemented)}unavailable(e="not available"){return new j.Exception(e,C.Unavailable)}removeListener(e,n){var r=this;return(0,d.A)(function*(){const s=r.listeners[e];if(!s)return;const a=s.indexOf(n);r.listeners[e].splice(a,1),r.listeners[e].length||r.removeWindowListener(r.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const z=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),X=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class J extends B{getCookies(){return(0,d.A)(function*(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[s,a]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=X(s).trim(),a=X(a).trim(),n[s]=a}),n})()}setCookie(e){return(0,d.A)(function*(){try{const n=z(e.key),r=z(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,a=(e.path||"/").replace("path=",""),p=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${a}; ${p};`}catch(n){return Promise.reject(n)}})()}deleteCookie(e){return(0,d.A)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}})()}clearCookies(){return(0,d.A)(function*(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,d.A)(function*(){try{yield e.clearCookies()}catch(n){return Promise.reject(n)}})()}}G("CapacitorCookies",{web:()=>new J});const q=function(){var t=(0,d.A)(function*(e){return new Promise((n,r)=>{const s=new FileReader;s.onload=()=>{const a=s.result;n(a.indexOf(",")>=0?a.split(",")[1]:a)},s.onerror=a=>r(a),s.readAsDataURL(e)})});return function(n){return t.apply(this,arguments)}}(),f=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),s=((t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,a,p)=>(s[a]=t[e[p]],s),{})})(t.headers)["content-type"]||"";if("string"==typeof t.data)n.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[p,u]of Object.entries(t.data||{}))a.set(p,u);n.body=a.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const a=new FormData;if(t.data instanceof FormData)t.data.forEach((u,E)=>{a.append(E,u)});else for(const u of Object.keys(t.data))a.append(u,t.data[u]);n.body=a;const p=new Headers(n.headers);p.delete("content-type"),n.headers=p}else(s.includes("application/json")||"object"==typeof t.data)&&(n.body=JSON.stringify(t.data));return n};class i extends B{request(e){return(0,d.A)(function*(){const n=f(e,e.webFetchExtra),r=((t,e=!0)=>t?Object.entries(t).reduce((r,s)=>{const[a,p]=s;let u,E;return Array.isArray(p)?(E="",p.forEach(h=>{u=e?encodeURIComponent(h):h,E+=`${a}=${u}&`}),E.slice(0,-1)):(u=e?encodeURIComponent(p):p,E=`${a}=${u}`),`${r}&${E}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,a=yield fetch(s,n),p=a.headers.get("content-type")||"";let E,h,{responseType:u="text"}=a.ok?e:{};switch(p.includes("application/json")&&(u="json"),u){case"arraybuffer":case"blob":h=yield a.blob(),E=yield q(h);break;case"json":E=yield a.json();break;default:E=yield a.text()}const H={};return a.headers.forEach((I,Q)=>{H[Q]=I}),{data:E,headers:H,status:a.status,url:a.url}})()}get(e){var n=this;return(0,d.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var n=this;return(0,d.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var n=this;return(0,d.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var n=this;return(0,d.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var n=this;return(0,d.A)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}G("CapacitorHttp",{web:()=>new i})},1889:(ne,$,g)=>{g.d($,{Wi:()=>R,__:()=>d});var d=function(y){return y.Documents="DOCUMENTS",y.Data="DATA",y.Library="LIBRARY",y.Cache="CACHE",y.External="EXTERNAL",y.ExternalStorage="EXTERNAL_STORAGE",y}(d||{}),R=function(y){return y.UTF8="utf8",y.ASCII="ascii",y.UTF16="utf16",y}(R||{})},6055:(ne,$,g)=>{g.r($),g.d($,{Tab2PageModule:()=>q});var d=g(4742),R=g(177),V=g(4341),D=g(1307),y=g(70),m=g(4438),w=g(467),C=g(7464),L=function(l){return l.Prompt="PROMPT",l.Camera="CAMERA",l.Photos="PHOTOS",l}(L||{}),S=function(l){return l.Rear="REAR",l.Front="FRONT",l}(S||{}),K=function(l){return l.Uri="uri",l.Base64="base64",l.DataUrl="dataUrl",l}(K||{});class N extends C.E_{getPhoto(o){var f=this;return(0,w.A)(function*(){return new Promise(function(){var i=(0,w.A)(function*(c,t){if(o.webUseInput||o.source===L.Photos)f.fileInputExperience(o,c,t);else if(o.source===L.Prompt){let e=document.querySelector("pwa-action-sheet");e||(e=document.createElement("pwa-action-sheet"),document.body.appendChild(e)),e.header=o.promptLabelHeader||"Photo",e.cancelable=!1,e.options=[{title:o.promptLabelPhoto||"From Photos"},{title:o.promptLabelPicture||"Take Picture"}],e.addEventListener("onSelection",function(){var n=(0,w.A)(function*(r){0===r.detail?f.fileInputExperience(o,c,t):f.cameraExperience(o,c,t)});return function(r){return n.apply(this,arguments)}}())}else f.cameraExperience(o,c,t)});return function(c,t){return i.apply(this,arguments)}}())})()}pickImages(o){var f=this;return(0,w.A)(function*(){return new Promise(function(){var i=(0,w.A)(function*(c,t){f.multipleFileInputExperience(c,t)});return function(c,t){return i.apply(this,arguments)}}())})()}cameraExperience(o,f,i){var c=this;return(0,w.A)(function*(){if(customElements.get("pwa-camera-modal")){const t=document.createElement("pwa-camera-modal");t.facingMode=o.direction===S.Front?"user":"environment",document.body.appendChild(t);try{yield t.componentOnReady(),t.addEventListener("onPhoto",function(){var e=(0,w.A)(function*(n){const r=n.detail;null===r?i(new C.I9("User cancelled photos app")):r instanceof Error?i(r):f(yield c._getCameraPhoto(r,o)),t.dismiss(),document.body.removeChild(t)});return function(n){return e.apply(this,arguments)}}()),t.present()}catch{c.fileInputExperience(o,f,i)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),c.fileInputExperience(o,f,i)})()}fileInputExperience(o,f,i){let c=document.querySelector("#_capacitor-camera-input");const t=()=>{var e;null===(e=c.parentNode)||void 0===e||e.removeChild(c)};c||(c=document.createElement("input"),c.id="_capacitor-camera-input",c.type="file",c.hidden=!0,document.body.appendChild(c),c.addEventListener("change",e=>{const n=c.files[0];let r="jpeg";if("image/png"===n.type?r="png":"image/gif"===n.type&&(r="gif"),"dataUrl"===o.resultType||"base64"===o.resultType){const s=new FileReader;s.addEventListener("load",()=>{if("dataUrl"===o.resultType)f({dataUrl:s.result,format:r});else if("base64"===o.resultType){const a=s.result.split(",")[1];f({base64String:a,format:r})}t()}),s.readAsDataURL(n)}else f({webPath:URL.createObjectURL(n),format:r}),t()}),c.addEventListener("cancel",e=>{i(new C.I9("User cancelled photos app")),t()})),c.accept="image/*",c.capture=!0,o.source===L.Photos||o.source===L.Prompt?c.removeAttribute("capture"):o.direction===S.Front?c.capture="user":o.direction===S.Rear&&(c.capture="environment"),c.click()}multipleFileInputExperience(o,f){let i=document.querySelector("#_capacitor-camera-input-multiple");const c=()=>{var t;null===(t=i.parentNode)||void 0===t||t.removeChild(i)};i||(i=document.createElement("input"),i.id="_capacitor-camera-input-multiple",i.type="file",i.hidden=!0,i.multiple=!0,document.body.appendChild(i),i.addEventListener("change",t=>{const e=[];for(let n=0;n<i.files.length;n++){const r=i.files[n];let s="jpeg";"image/png"===r.type?s="png":"image/gif"===r.type&&(s="gif"),e.push({webPath:URL.createObjectURL(r),format:s})}o({photos:e}),c()}),i.addEventListener("cancel",t=>{f(new C.I9("User cancelled photos app")),c()})),i.accept="image/*",i.click()}_getCameraPhoto(o,f){return new Promise((i,c)=>{const t=new FileReader,e=o.type.split("/")[1];"uri"===f.resultType?i({webPath:URL.createObjectURL(o),format:e,saved:!1}):(t.readAsDataURL(o),t.onloadend=()=>{const n=t.result;i("dataUrl"===f.resultType?{dataUrl:n,format:e,saved:!1}:{base64String:n.split(",")[1],format:e,saved:!1})},t.onerror=n=>{c(n)})})}checkPermissions(){var o=this;return(0,w.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw o.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw o.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var o=this;return(0,w.A)(function*(){throw o.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var o=this;return(0,w.A)(function*(){throw o.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var o=this;return(0,w.A)(function*(){throw o.unavailable("Not implemented on web.")})()}}new N;const G=(0,C.F3)("Camera",{web:()=>new N});var re=g(1889);const oe=(0,C.F3)("Filesystem",{web:()=>g.e(2937).then(g.bind(g,2937)).then(l=>new l.FilesystemWeb)});let B=(()=>{var l;class o{constructor(){this.photos=[],this.convertBlobToBase64=i=>new Promise((c,t)=>{const e=new FileReader;e.onerror=t,e.onload=()=>{c(e.result)},e.readAsDataURL(i)})}addNewToGallery(){var i=this;return(0,w.A)(function*(){const c=yield G.getPhoto({resultType:K.Uri,source:L.Camera,quality:100}),t=yield i.savePicture(c);i.photos.unshift(t)})()}savePicture(i){var c=this;return(0,w.A)(function*(){const t=yield c.readAsBase64(i),e=Date.now()+".jpeg";return yield oe.writeFile({path:e,data:t,directory:re.__.Data}),{filepath:e,webviewPath:i.webPath}})()}readAsBase64(i){var c=this;return(0,w.A)(function*(){const e=yield(yield fetch(i.webPath)).blob();return yield c.convertBlobToBase64(e)})()}}return(l=o).\u0275fac=function(i){return new(i||l)},l.\u0275prov=m.jDH({token:l,factory:l.\u0275fac,providedIn:"root"}),o})();var ie=g(3724);function z(l,o){if(1&l&&(m.j41(0,"ion-col",9),m.nrm(1,"ion-img",10),m.k0s()),2&l){const f=o.$implicit;m.R7$(),m.Y8G("src",f.webviewPath)}}const J=[{path:"",component:(()=>{var l;class o{constructor(i){this.photoService=i}addPhotoToGallery(){this.photoService.addNewToGallery()}}return(l=o).\u0275fac=function(i){return new(i||l)(m.rXU(B))},l.\u0275cmp=m.VBU({type:l,selectors:[["app-tab2"]],decls:17,vars:3,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["name","Tab 2 page"],["size","6",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","center","slot","fixed"],[3,"click"],["name","camera"],["size","6"],[3,"src"]],template:function(i,c){1&i&&(m.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),m.EFF(3," Photo Gallery "),m.k0s()()(),m.j41(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),m.EFF(8,"Photo Gallery"),m.k0s()()(),m.nrm(9,"app-explore-container",4),m.j41(10,"ion-content")(11,"ion-grid")(12,"ion-row"),m.DNE(13,z,2,1,"ion-col",5),m.k0s()()(),m.j41(14,"ion-fab",6)(15,"ion-fab-button",7),m.bIt("click",function(){return c.addPhotoToGallery()}),m.nrm(16,"ion-icon",8),m.k0s()()()),2&i&&(m.Y8G("translucent",!0),m.R7$(4),m.Y8G("fullscreen",!0),m.R7$(9),m.Y8G("ngForOf",c.photoService.photos))},dependencies:[d.hU,d.W9,d.Q8,d.YW,d.lO,d.eU,d.iq,d.KW,d.ln,d.BC,d.ai,R.Sq,ie.K]}),o})()}];let ae=(()=>{var l;class o{}return(l=o).\u0275fac=function(i){return new(i||l)},l.\u0275mod=m.$C({type:l}),l.\u0275inj=m.G2t({imports:[y.iI.forChild(J),y.iI]}),o})(),q=(()=>{var l;class o{}return(l=o).\u0275fac=function(i){return new(i||l)},l.\u0275mod=m.$C({type:l}),l.\u0275inj=m.G2t({imports:[d.bv,R.MD,V.YN,D.S,ae]}),o})()}}]);